<div ng-app="ecopulse">
  <div ng-controller="MainCtrl" data-ng-init='getData()'>
    <highchart id="chart1" config="highchartsNG" />
    <hr />
    <h4>Data Sets</h4>

    <p>
      The following data sets were used to calculate Australia's Economic Heartbeat.
    </p>
    <p>
      The value on the right represents the latest available value for each dataset.
    </p>
    <p>
      <strong>Click on a dataset to chart it with the heartbeat and view more information.</strong>
    </p>

    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div ng-repeat='dataset in datasets' class="panel panel-default">
        <div class="panel-heading" id="heading-{{dataset.id}}"
           role="button" ng-click='chartSeries("{{dataset.id}}")'
           data-toggle="collapse" data-parent="#accordion" href="#collapse-{{dataset.id}}"
           aria-expanded="true" aria-controls="collapse-{{dataset.id}}">
          <h4 class="row panel-title">
            <div class='col-xs-8'>
              <span class="glyphicon glyphicon-{{dataset.icon}}" aria-hidden="true" />
              {{dataset.name}}
            </div>
            <div class='col-xs-4 text-right'>{{dataset.latest}}</div>
          </h4>
        </div>
        <div id="collapse-{{dataset.id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-{{dataset.id}}">
          <div class="panel-body">
            <p>{{dataset.description}}</p>
            <p>Source: {{dataset.source}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
